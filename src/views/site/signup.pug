extends _template
include _header

mixin head
	meta(name='description' content='Sign up for CodeLab classes online')
	meta(name='robots' content='index, follow')

mixin info
	.introduction
		//- .title Class Selection
		.instructions Select which class you'd like to enroll for. Selecting an #[strong Advanced] class may require an assessment of student skill before finalizing placement.

	.things-to-know Things to know before enrolling
	//- if isPreEnroll
	//- 	p.future-billing !{content.preEnroll}
		
	for item in content.enrollment_notes
		p(class=item.type) !{item.message}

mixin add_session(session, dayOfWeek)
	.timeslot(class='level-' + session.level.toLowerCase() + (session.available > 0 ? ' is-available' : '') + (session.limited ? ' is-limited' : '') + (session.full ? ' is-full' : '') id=session.id data-day=dayOfWeek data-level=session.level data-name=session.name data-time=session.time)
		.meta
			.level= session.level
			.is-full Session Full
			.is-limited Space is limited
		.details
			.title= session.name
			.time= session.time

mixin timeslots

	.time-slots#available-times

		h3 Tuesdays
		.time-slot-date
			+add_session(schedule.schedule.web_tues_1700, 'Tuesdays')
			+add_session(schedule.schedule.web_tues_1800, 'Tuesdays')
			+add_session(schedule.schedule.web_tues_1900, 'Tuesdays')
		
		h3 Thursdays
		.time-slot-date
			+add_session(schedule.schedule.code_thur_1700, 'Thursdays')
			+add_session(schedule.schedule.code_thur_1800, 'Thursdays')
			+add_session(schedule.schedule.code_thur_1900, 'Thursdays')

		//- .step.first
		//- 	.step-icon.icon-calendar
		//- 	.about
		//- 		.step-title Choose a Day
		//- 		.step-action.signup Pick the day of the week that you'd like to visit

		//- 		#selected-day.dropdown
		//- 			.selection Select a day
		//- 			.items
		//- 				for day in schedule
		//- 					.item(data-label=day.day data-value=day.day.toLowerCase())
		//- 						.block= day.day

		//- .step
		//- 	.step-icon.icon-clock
		//- 	.about
		//- 		.step-title Choose a Time
		//- 		.step-action.signup Find a open time that works best for your schedule

		//- 		.dropdown.inactive
		//- 			.selection Select a time

		//- 		for day in schedule
		//- 			.dropdown(id='selected-' + day.day.toLowerCase())
		//- 				.selection Select a time
		//- 				.items
		//- 					for session in day.slots
		//- 						.item(data-value=session.index data-label=session.time + ' ' + session.meridem class=session.status)
		//- 							.block.status(class='status-' + session.status)
		//- 								.detail #{session.time} #{session.meridem}
		//- 								if session.status === 'limited'
		//- 									.note Limited space

		//- 								if session.status === 'full'
		//- 									.note Session full

		.step.last
				.button.inactive#enroll-now Register for Class

block title
	| Sign Up / CodeLab

block head
	link(rel='stylesheet' type='text/css' href='/__codelab__/site/index.css')

block content
	.main.content

		+standard_header('Enroll Online', true)
			| Sign up now for CodeLab weekly sessions

	.doc
		#enrollment
			.section.container
				.row

					.col-md-6.order-review
						+info

					.col-md-1

					.col-md-5#order
						+timeslots


	include _footer

block scripts
	script(type='text/javascript').
		window.CHARGEBEE_BILLING_TARGET = "#{billingTarget}";
	script(src='https://js.chargebee.com/v2/chargebee.js' data-cb-site=billingTarget)
	script(type='text/javascript' src='/__codelab__/site.js')
	